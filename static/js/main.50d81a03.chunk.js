(this.webpackJsonpflatstack=this.webpackJsonpflatstack||[]).push([[0],{163:function(e,t,r){e.exports=r.p+"static/media/cart.e6dce4ce.svg"},168:function(e,t,r){e.exports=r(322)},174:function(e,t,r){},322:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(47),o=r.n(c),i=(r(173),r(174),r(13)),l=r(9),s=r(167),m=r(152),u=r(327),d={position:{}},p=r(16);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={items:[{id:1,img:"/static/img/boot.png",link:"#",name:"The Chelsea Boot",color:"Black",quantity:1,price:235},{id:2,img:"/static/img/bag.png",link:"#",name:"The Twill Snap Backpack",color:"Reverse Denim + Drown leather",quantity:1,price:65},{id:3,img:"/static/img/zip-bag.png",link:"#",name:"The Twill Zip Tote",color:"Reverse Denim + Drown leather",quantity:1,price:48}]};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={},h=Object(l.combineReducers)({form:u.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_POSITION":return Object.assign({},e,{position:{coords:t.payload.coords,country:t.payload.country,city:t.payload.city,postalCode:t.payload.postalCode}});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CART":return b({},e,{items:[]});default:return e}},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FETCH_ERROR":return Object.assign({},e,Object(p.a)({},t.payload.id,E({},e[t.payload.id],{error:t.payload.error})));case"SET_FETCH_LOADING":return Object.assign({},e,Object(p.a)({},t.payload.id,E({},e[t.payload.id],{loading:t.payload.loading})));case"SET_DATASOURCE":return Object.assign({},e,Object(p.a)({},t.payload.id,E({},e[t.payload.id],{id:t.payload.id,datasource:t.payload.datasource})));default:return e}}}),g=r(17),O=r.n(g),N=r(116),j=r(18),x=r(154),P=r(166),S=r(78),C=r(155),k=r(165),I=function(e){function t(e,r){var a;return Object(x.a)(this,t),(a=Object(P.a)(this,Object(S.a)(t).call(this,e))).message=e,a.body=r,a}return Object(C.a)(t,e),t}(Object(k.a)(Error)),T={fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then((function(e){var t=e.json();if(!e.ok)throw new I("Request error",t);return t})).then((function(e){return e}))})),SEND_ORDER_FORM:"/order",GET_ADDRESS_BY_GEOCODE:"https://geocode-maps.yandex.ru/1.x/?apikey=".concat("efd192fe-2537-4d5a-9686-4d4760dcc68a","&geocode=:coords&format=json&lang=en_RU&results=1"),GET_COUNTRIES:"https://restcountries.eu/rest/v2/all?fields=name"},w=r(156),D=r.n(w),R=r(326),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},G=function(e){return Object(R.a)(e,A)},F=function(e){return G("FETCH")({id:e.id,url:e.url,options:e.options,mappingOptions:e.mappingOptions,onSuccess:e.onSuccess,onError:e.onError})},z=function(e){return G("SET_DATASOURCE")(e)},M=function(e,t){return G("SET_FETCH_LOADING")({id:e,loading:t})},X=function(e,t){return G("SET_FETCH_ERROR")({id:e,error:t})},B=O.a.mark(U),L=O.a.mark(q),Y=O.a.mark($);function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D.a.compile(e)(t)}function U(e){var t,r,a,n,c,o,i,l,s;return O.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.payload,r=t.id,a=void 0===r?"lastRequest":r,m.prev=2,n=t.url,c=t.options,o=t.mappingOptions,i=t.onSuccess,m.next=6,$(a,!0);case 6:return m.next=8,Object(j.b)(q,n,c,o);case 8:return l=m.sent,m.next=11,Object(j.c)(z({id:a,datasource:l}));case 11:"function"===typeof i&&i(l),m.next=21;break;case 14:return m.prev=14,m.t0=m.catch(2),s=t.onError,m.next=19,Object(j.c)(X(a,m.t0));case 19:"function"===typeof s&&s(m.t0),console.error(m.t0);case 21:return m.prev=21,m.next=24,$(a,!1);case 24:return m.finish(21);case 25:case"end":return m.stop()}}),B,null,[[2,14,21,25]])}function q(e,t){var r,a,n=arguments;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.length>2&&void 0!==n[2]?n[2]:{},c.prev=1,c.next=4,Object(j.b)(T.fetch,H(e,r),t);case 4:return a=c.sent,c.abrupt("return",a);case 8:throw c.prev=8,c.t0=c.catch(1),console.error(c.t0),c.t0;case 12:case"end":return c.stop()}}),L,null,[[1,8]])}function $(e,t){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.c)(M(e,t));case 2:case"end":return r.stop()}}),Y)}var V=[Object(j.d)("FETCH",U)],J=function(){return G("GET_USER_POSITION")()},W=function(e,t,r,a){return G("SET_USER_POSITION")({coords:e,country:t,city:r,postalCode:a})},K=r(11),Z=r.n(K),Q=O.a.mark(ae),ee=O.a.mark(ne),te="response.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData";function re(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))}function ae(){var e,t,r,a,n,c,o,i,l;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!navigator.geolocation){s.next=13;break}return s.next=4,Object(j.b)(re);case 4:return e=s.sent,t=e.coords,r=t.latitude,a=t.longitude,s.next=9,Object(j.b)(q,T.GET_ADDRESS_BY_GEOCODE,{method:"GET"},{coords:"".concat(a,",").concat(r)});case 9:return i=s.sent,Z()(i,"response.GeoObjectCollection.featureMember",[]).length>0&&(l=Z()(i,"".concat(te,".Address.Components")),n=Z()(l.find((function(e){return"country"===e.kind})),"name",null),c=Z()(l.find((function(e){return"locality"===e.kind})),"name",null),o=Z()(i,"".concat(te,".Address.postal_code"))),s.next=13,Object(j.b)(ne,{latitude:r,longitude:a},n,c,o);case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(0),console.error(s.t0);case 18:case"end":return s.stop()}}),Q,null,[[0,15]])}function ne(e,t,r,a){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(j.c)(W(e,t,r,a));case 2:case"end":return n.stop()}}),ee)}var ce=[Object(j.d)("GET_USER_POSITION",ae)],oe=function(){return O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)([].concat(Object(N.a)(V),Object(N.a)(ce)));case 2:case"end":return e.stop()}}),e)}))},ie=Object(s.a)();var le=r(34),se=r(36),me=r(22),ue=r(328),de=r(324),pe=r(112),fe=r.n(pe),be={SHIPPING:"shipping",BILLING:"billing",PAYMENT:"payment"},ve=[{name:"shipping.fullName",errorName:"full name",errorPrefix:"recipient"},{name:"shipping.daytimePhone",errorName:"daytime phone",errorPrefix:"recipient"},{name:"shipping.street",errorName:"street",errorPrefix:"recipient"},{name:"shipping.city",errorName:"city",errorPrefix:"recipient"},{name:"shipping.country",errorName:"country",errorPrefix:"recipient"},{name:"shipping.zip",errorName:"zip",errorPrefix:"recipient"},{name:"billing.fullName",errorName:"full name",errorPrefix:"billing contact"},{name:"billing.street",errorName:"street",errorPrefix:"billing contact"},{name:"billing.city",errorName:"city",errorPrefix:"billing contact"},{name:"billing.country",errorName:"country",errorPrefix:"billing contact"},{name:"billing.zip",errorName:"zip",errorPrefix:"billing contact"},{name:"payment.cardholder",errorName:"cardholder",errorPrefix:"payment"},{name:"payment.cardNumber",errorName:"card number",errorPrefix:"payment"},{name:"payment.expireDate",errorName:"expire date",errorPrefix:"payment"},{name:"payment.securityCode",errorName:"security code",errorPrefix:"payment"}],ye=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,Ee=function(e){var t={};ve.map((function(r){var a=r.name,n=r.errorName,c=r.errorPrefix;Z()(e,a)||fe()(t,a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"Please enter ".concat(t," ").concat(e)}(n,c))}));var r=Z()(e,"billing.email");return r&&!ye.test(r)&&fe()(t,"billing.email","Email is not valid"),t},_e=r(79),he=r.n(_e),ge=r(325),Oe=r(33),Ne=r(10),je=r.n(Ne);function xe(e){var t=e.error,r=e.errorPosition;return n.a.createElement("div",{className:je()("form-field__error","form-field__error--".concat(r))},t)}xe.defaultProps={errorPosition:"top"};var Pe=xe;function Se(e){var t=e.type,r=Object(Oe.a)(e,["type"]);return n.a.createElement("input",Object.assign({className:"input",type:t},r))}Se.defaultProps={type:"text"};var Ce=Se,ke=r(164);var Ie=function(e){return n.a.createElement(ke.a,Object.assign({className:"input-number"},e))},Te=r(158),we=r.n(Te);var De=function(e){return n.a.createElement(we.a,Object.assign({className:"input-mask"},e))},Re=r(159),Ae=r.n(Re);function Ge(e){var t=e.className,r=e.labelFieldId,c=e.items,o=e.placeholder,i=Object(Oe.a)(e,["className","labelFieldId","items","placeholder"]),l=Object(a.useState)(!1),s=Object(me.a)(l,2),m=s[0],u=s[1];return n.a.createElement("div",{className:je()("autocomplete",t,{"autocomplete--active":m})},n.a.createElement(Ae.a,Object.assign({inputProps:{className:"autocomplete__input",placeholder:m?"":o},getItemValue:function(e){return e[r]},shouldItemRender:function(e,t){return!!~e[r].toLowerCase().indexOf(t.toLowerCase())},items:c,onMenuVisibilityChange:u,renderMenu:function(e){return n.a.createElement("div",{className:"autocomplete__menu",children:e})},renderItem:function(e,t){return n.a.createElement("div",{className:je()("autocomplete__item",{"autocomplete__item--active":t})},e[r])}},i,{onSelect:function(e){return i.onChange(e)}})))}Ge.defaultProps={labelFieldId:"label",items:[]};var Fe=Ge,ze=r(160),Me=r.n(ze),Xe="unknown";var Be={Input:Ce,InputNumber:Ie,InputMask:De,AutoComplete:Fe,InputCreditCard:function(e){e.className;var t=Object(Oe.a)(e,["className"]),r=Object(a.useState)("unknown"),c=Object(me.a)(r,2),o=c[0],i=c[1];return n.a.createElement("div",{className:je()("input-credit-card",Object(p.a)({},"input-credit-card--".concat(o),o!==Xe))},n.a.createElement(Me.a,Object.assign({className:"input-credit-card__input",options:{creditCard:!0,onCreditCardTypeChanged:i}},t)))}};var Le=function(e){var t=e.id,r=e.src,a=e.label,c=e.help,o=e.className,i=e.meta,l=e.name,s=e.errorPosition,m=e.input,u=Object(Oe.a)(e,["id","src","label","help","className","meta","name","errorPosition","input"]),d=i.error,p=i.touched,f=d&&p,b=Be[r];if(!b)throw new Error("src ".concat(r," not found!"));return n.a.createElement("div",{className:je()("form-field",o,{"form-field--invalid":f})},a&&n.a.createElement("label",{className:"form-field__label",htmlFor:t||l},a),n.a.createElement("div",{className:"form-field__control-container"},f&&n.a.createElement(Pe,{error:d,errorPosition:s}),n.a.createElement(b,Object.assign({},u,m)),c&&n.a.createElement("div",{className:"form-field__control-help"},c)))};var Ye=function(e){return n.a.createElement(ge.a,Object.assign({},e,{component:Le}))},He={PRIMARY:"primary",LINK:"link",TRANSPARENT:"transparent"};function Ue(e){var t=e.className,r=e.children,a=e.onClick,c=e.type,o=e.buttonType;return n.a.createElement("button",{type:o,onClick:a,className:je()("button",t,{"button--primary":c===He.PRIMARY,"button--link":c===He.LINK})},r)}Ue.defaultProps={buttonType:"button",onClick:function(){},type:He.PRIMARY};var qe=Ue;var $e=function(e){var t=e.label,r=e.prefix,a=e.onCountryDetect,c=e.countries;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"order-form__fieldset"},n.a.createElement(Ye,{label:t,src:"Input",placeholder:"Street Address",name:"".concat(r,".street")}),n.a.createElement(Ye,{src:"Input",placeholder:"Apt, Suite, Bldg, Gate Code. (optional)",name:"".concat(r,".addressDetail")})),n.a.createElement("div",{className:"order-form__fieldset"},n.a.createElement("div",{className:"order-form__field-with-action"},n.a.createElement(Ye,{src:"Input",placeholder:"City",name:"".concat(r,".city"),errorPosition:"left"}),n.a.createElement(qe,{onClick:function(){return a(r)},className:"order-form__detect-country",type:"transparent"}))),n.a.createElement("div",{className:"order-form__fieldset order-form__fieldset-country-zip"},n.a.createElement(Ye,{className:"order-form__country-field",src:"AutoComplete",items:c,labelFieldId:"name",placeholder:"Country",name:"".concat(r,".country"),errorPosition:"left"}),n.a.createElement(Ye,{className:"order-form__zip-field",src:"Input",placeholder:"ZIP",name:"".concat(r,".zip"),errorPosition:"right"})))};function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Je(e){var t=e.level,r=e.subTitle,a=e.className,c=e.children;return n.a.createElement((function(e){return n.a.createElement("h".concat(t),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:je()("title",a)},e))}),null,n.a.createElement("div",{className:"title__main"},c),r&&n.a.createElement("div",{className:"title__sub"},r))}Je.defaultProps={level:1,subTitle:null};var We=Je;var Ke=function(e){var t=e.handleChangeStage,r=e.validate,a=e.values,c=e.onCountryDetect,o=e.countries;return n.a.createElement(n.a.Fragment,null,n.a.createElement(We,{level:2,className:"order-form__title"},"Shipping Info"),n.a.createElement("div",{className:"order-form__fieldset"},n.a.createElement(Ye,{src:"Input",label:"Recipient",placeholder:"Full Name",name:"shipping.fullName",autoFocus:!0}),n.a.createElement(Ye,{className:"order-form__daytime-phone-field",src:"InputNumber",placeholder:"Daytime Phone",help:"For delivery questions only",name:"shipping.daytimePhone",errorPosition:"left"})),n.a.createElement($e,{label:"Address",prefix:"shipping",onCountryDetect:c,countries:o}),n.a.createElement(qe,{buttonType:"submit",onClick:function(){var e=r(a);Z()(e,be.SHIPPING)||t(be.BILLING)}},"Continue"))},Ze=function(e,t){return e.map((function(e){return{key:"billing."+e,value:Z()(t,["shipping",e])}}))};var Qe=function(e){var t=e.handleChangeStage,r=e.onValueChange,a=e.validate,c=e.values,o=e.onCountryDetect,i=e.countries;return n.a.createElement(n.a.Fragment,null,n.a.createElement(We,{level:2,className:"order-form__title",subTitle:n.a.createElement("span",{onClick:function(){return r(Ze(["fullName","street","addressDetail","city","country","zip"],c))}},"Same as shipping")},"Billing Information"),n.a.createElement("div",{className:"order-form__fieldset"},n.a.createElement(Ye,{src:"Input",label:"Billing Contact",placeholder:"Full Name",name:"billing.fullName"}),n.a.createElement(Ye,{src:"Input",placeholder:"Email Address",name:"billing.email"})),n.a.createElement($e,{label:"Billing Information",prefix:"billing",onCountryDetect:o,countries:i}),n.a.createElement(qe,{buttonType:"submit",onClick:function(){var e=a(c);Z()(e,be.BILLING)||t(be.PAYMENT)}},"Continue"))},et=[/[0-9]/,/[0-9]/,/[0-9]/,/[0-9]/],tt=[].concat(et,[" "],et,[" "],et,[" "],et,[" "],et),rt=[/[0-9]/,/[0-9]/,"/",/[0-9]/,/[0-9]/],at=et.slice();var nt,ct=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(We,{level:2,className:"order-form__title"},"Payment"),n.a.createElement("div",{className:"order-form__security-help"},"This is a secure 128-bit SSL encrypted payment"),n.a.createElement("div",{className:"order-form__fieldset"},n.a.createElement(Ye,{src:"Input",label:"Cardholder Name",placeholder:"Name as it appears on your card",name:"payment.cardholder"})),n.a.createElement("div",{className:"order-form__fieldset"},n.a.createElement(Ye,{src:"InputCreditCard",label:"Card Number",mask:tt,placeholder:"XXXX XXXX XXXX XXXX XXXX",name:"payment.cardNumber"})),n.a.createElement("div",{className:"order-form__fieldset order-form__fieldset--row"},n.a.createElement(Ye,{className:"order-form__expire-date-field",src:"InputMask",mask:rt,label:"Expire Date",placeholder:"MM / YY",name:"payment.expireDate"}),n.a.createElement(Ye,{className:"order-form__security-code-field",src:"InputMask",guide:!1,mask:at,label:"Security Code",name:"payment.securityCode",errorPosition:"right"})),n.a.createElement(qe,{buttonType:"submit"},"Pay Securely"))},ot=r(62),it=function(e){return e.user},lt=function(){return Object(ot.a)(it,(function(e){return e.position||{}}))},st=(nt={},Object(p.a)(nt,be.SHIPPING,Ke),Object(p.a)(nt,be.BILLING,Qe),Object(p.a)(nt,be.PAYMENT,ct),nt),mt="orderForm";var ut=Object(de.a)({form:mt,validate:Ee})((function(e){var t=e.handleSubmit,r=e.handleChangeStage,c=e.activeId,o=e.validate,l=e.form,s=e.change,m=e.handleDetectCountry,u=e.countries,d=st[c],p=Object(i.d)(Object(ue.a)(l))||[],f=Object(i.d)(lt()),b=Object(a.useCallback)((function(e){return e.map((function(e){var t=e.key,r=e.value;return s(t,r)}))}),[s]);return Object(a.useEffect)((function(){he()(f)||b([{key:"shipping.country",value:f.country},{key:"shipping.city",value:f.city},{key:"shipping.zip",value:f.postalCode}])}),[f,b]),n.a.createElement("form",{className:"order-form",onSubmit:t},n.a.createElement(d,{handleChangeStage:r,onValueChange:b,validate:o,values:p,onCountryDetect:function(e){m(Z()(p,"".concat(e,".city")),(function(t){var r=Z()(t,"".concat(te,".Address.Components")),a=Z()(r.find((function(e){return"country"===e.kind})),"name");s("".concat(e,".country"),a)}))},countries:u}))}));function dt(e){var t=e.items,r=e.activeId,a=e.onClick,c=t.findIndex((function(e){return e.id===r}));return n.a.createElement("div",{className:"breadcrumbs"},n.a.createElement("ul",{className:"breadcrumbs__list"},t.map((function(e,t){var o=e.id,i=e.link,l=e.label;return n.a.createElement("li",{key:o,className:je()("breadcrumbs__item",{"breadcrumbs__item--active":o===r,"breadcrumbs__item--link":t<c}),onClick:function(){t<c&&a(o)}},i?n.a.createElement(le.b,{to:i},l):l)}))))}dt.defaultProps={items:[],activeId:null,onClick:function(){}};var pt=dt;var ft=function(e){var t=e.id,r=e.name,a=e.img,c=e.color,o=e.quantity,i=e.price,l=e.link;return n.a.createElement("li",{key:t,className:"order-summary__item order-summary-item"},n.a.createElement("div",{className:"order-summary-item__img"},n.a.createElement("img",{src:a,alt:""})),n.a.createElement("div",{className:"order-summary-item__info"},n.a.createElement("a",{className:"order-summary-item__name",href:l},r),n.a.createElement("div",{className:"order-summary-item__color"},c),n.a.createElement("div",{className:"order-summary-item__quantity"},"Quantity: ",o)),n.a.createElement("div",{className:"order-summary-item__cost"},"$",i))};function bt(e){var t=e.items;return n.a.createElement("ul",{className:"order-summary__list"},t.map((function(e){return n.a.createElement(ft,Object.assign({key:e.id},e))})))}bt.defaultProps={items:[]};var vt=bt;var yt=function(e){var t=e.subTotal,r=e.taxes,a=e.shipping;return n.a.createElement("div",{className:"order-summary__costs order-summary-costs"},n.a.createElement("ul",{className:"order-summary-costs__list"},n.a.createElement("li",{className:"order-summary-costs__item"},n.a.createElement("div",{className:"order-summary-costs__name"},"Subtotal"),n.a.createElement("div",{className:"order-summary-costs__value"},"$",t)),n.a.createElement("li",{className:"order-summary-costs__item"},n.a.createElement("div",{className:"order-summary-costs__name"},"Shipping"),n.a.createElement("div",{className:"order-summary-costs__value"},a)),n.a.createElement("li",{className:"order-summary-costs__item"},n.a.createElement("div",{className:"order-summary-costs__name"},"Taxes"),n.a.createElement("div",{className:"order-summary-costs__value"},"$",r))))};var Et=function(e){var t=e.total;return n.a.createElement("div",{className:"order-summary__total"},n.a.createElement("div",{className:"order-summary__total-name"},"Total"),n.a.createElement("div",{className:"order-summary__total-value"},"$",t))};function _t(e){var t=e.link,r=e.className;return n.a.createElement("div",{className:je()("terms",r)},n.a.createElement("span",{className:"terms__text"},"All purchases are subject to our"," ",n.a.createElement("a",{className:"terms__link",href:t},"Terms and Conditions"),"."))}_t.defaultProps={link:"#"};var ht=_t,gt=12.12,Ot="Free";var Nt=function(e){var t=e.cartItems,r=Object(a.useState)(t),c=Object(me.a)(r,1)[0],o=c.reduce((function(e,t){return e+t.price}),0),i=o+gt;return n.a.createElement("div",{className:"order-summary"},n.a.createElement(We,{className:"order-summary__title",level:3,subTitle:n.a.createElement("a",{href:"#",className:"order-summary__edit-link"},"edit order")},"Order Summary"),n.a.createElement(vt,{items:c}),n.a.createElement(yt,{subTotal:o,shipping:Ot,taxes:gt}),n.a.createElement(Et,{total:i}),n.a.createElement(ht,{className:"order-summary__terms"}))},jt=r(162),xt=r.n(jt);var Pt=function(e){var t=e.estimatedDate,r=e.orderNumber,a=e.pageToPrintRef;return n.a.createElement("div",{className:"order-success"},n.a.createElement(We,{className:"order-success__title",level:2},"Thank you for your order!"),n.a.createElement("div",{className:"order-success__content"},n.a.createElement("div",{className:"order-success__number"},"Order number is: ",r),n.a.createElement("div",{className:"order-success__email"},"Your will receive an email confirmation shortly to"," ",n.a.createElement("a",{href:"mailto:name@rapidtables.com"},"jonathan.smith@gmail.com")),n.a.createElement("div",{className:"order-success__estimated-date"},"Estimated delivery Day is ",n.a.createElement("strong",null,t)),n.a.createElement("div",{className:"order-success__print"},n.a.createElement(xt.a,{trigger:function(){return n.a.createElement(qe,{type:"link"},"Print Recipe")},content:function(){return a},bodyClass:"body--print"}))))},St=function(e){return e.cart},Ct=function(){return Object(ot.a)(St,(function(e){return e.items||[]}))},kt=function(){return Object(ot.a)(St,(function(e){return Array.isArray(e.items)?e.items.length:0}))},It=function(){return G("RESET_CART")()},Tt=[{id:be.SHIPPING,label:"Shipping"},{id:be.BILLING,label:"Billing"},{id:be.PAYMENT,label:"Payment"}];var wt=function(){var e=Object(i.c)(),t=Object(i.d)(Ct()),r=Object(a.useRef)(null),c=Object(a.useState)(be.SHIPPING),o=Object(me.a)(c,2),l=o[0],s=o[1],m=Object(a.useState)(!1),u=Object(me.a)(m,2),d=u[0],p=u[1],f=Object(a.useState)(null),b=Object(me.a)(f,2),v=b[0],y=b[1],E=Object(a.useState)([]),_=Object(me.a)(E,2),h=_[0],g=_[1],O=Object(a.useCallback)((function(){e(F({id:"countries",url:T.GET_COUNTRIES,onSuccess:g}))}),[e]);return Object(a.useEffect)((function(){O()}),[O]),n.a.createElement("div",{ref:r,className:"order-page"},n.a.createElement("div",{className:je()({"order-page__form":!d,"order-page__success":d})},d?n.a.createElement(Pt,Object.assign({pageToPrintRef:Z()(r,"current",null)},v)):[n.a.createElement(pt,{key:"breadcrumbs",items:Tt,activeId:l,onClick:s}),n.a.createElement(ut,{key:"orderForm",onSubmit:function(t){e(F({id:mt,url:T.SEND_ORDER_FORM,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},onSuccess:function(t){y(t),p(!0),e(It())},onError:function(t){y({estimatedDate:"Friday 1st April 2016",orderNumber:188787788}),p(!0),e(It())}}))},activeId:l,handleChangeStage:s,handleDetectCountry:function(t,r,a){he()(t)||e(F({url:T.GET_ADDRESS_BY_GEOCODE,mappingOptions:{coords:t},onSuccess:r,onError:a}))},countries:h})]),n.a.createElement("div",{className:je()("order-page__summary",{"order-page__summary--translucent":d})},n.a.createElement(Nt,{cartItems:t})))},Dt=[{path:"/",render:function(e){return n.a.createElement(wt,e)}}];var Rt=function(){return n.a.createElement(le.b,{to:"/",className:"header__brand"},"Front-end Developer Test Task")},At=r(163),Gt=r.n(At);var Ft=function(e){var t=e.numberOfGoods;return n.a.createElement(le.b,{to:"/order",className:"header__cart-box cart-box"},!!t&&n.a.createElement("div",{className:"cart-box__text"},"cart"),n.a.createElement("div",{className:"cart-box__cart"},n.a.createElement("div",{className:"cart-box__goods"},!!t&&t),n.a.createElement("img",{src:Gt.a,alt:"cart-box",width:"21",height:"16"})))};var zt=function(){var e=Object(i.d)(kt());return n.a.createElement("div",{className:"header__container"},n.a.createElement("header",{className:"header"},n.a.createElement(Rt,null),n.a.createElement(Ft,{numberOfGoods:e})))};var Mt=function(e){var t=e.children;return n.a.createElement("div",{className:"app"},n.a.createElement(zt,null),n.a.createElement("main",{className:"main"},t))};var Xt=function(e){var t=e.children,r=Object(i.c)();return Object(a.useEffect)((function(){r(J())}),[r]),t},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.createStore)(h,e,Object(m.composeWithDevTools)(Object(l.applyMiddleware)(ie)));return ie.run(oe()),t}();var Lt=function(){return n.a.createElement(i.a,{store:Bt},n.a.createElement(Xt,null,n.a.createElement(le.a,null,n.a.createElement(Mt,null,n.a.createElement(se.c,null,Dt.map((function(e,t){return n.a.createElement(se.a,Object.assign({key:t},e))})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(Lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[168,1,2]]]);
//# sourceMappingURL=main.50d81a03.chunk.js.map